<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="libs/jquery.js"></script>
    <link rel="stylesheet" href="libs/animate.css">
</head>
<style>
    body{
        margin: 0;
        padding: 0;
    }
    #box{
        width: 200px;
        height: 100px;
        background-color: aqua;
        transition: all .5s;
        overflow-y: hidden;
        cursor: pointer;
    }

    #box p{
        height: 100px;
        line-height: 100px;
        text-align: center;
        margin: 0;
        padding: 0;

    }
    #img{
        transition: all .5s;
    }
    #box p:nth-of-type(1){
        background-color: red;
    }
    #box p:nth-of-type(1):hover{
        background-color: aqua;
    }
    #box p:hover{
        background-color: black;
    }

    @keyframes disappear {
        from{
            height: 100px;
            width: 200px;
        }
        to{
            width: 0px;
            height: 0px;
        }
    }
</style>
<body>
        <button id="btn">
            点击
        </button>

        <div id="box">
            <p>1 <img  id="img" src="assets/arrow.png" alt=""></p>
            <p>2</p>
            <p>3</p>
            <p>21</p>
            <p>22</p>
            <p>23</p>
        </div>

</body>
<script>
    $(function () {
        var flag = false;
        var ph = $("#box p:first-child").height()
        var pl = $("#box").children('p').length;

        $("#btn").click(function (e) {
            // e.style.color = "red"
            if (flag==false){
                $("#box").css({"height":ph*pl+"px"})
                $("#img").css({"transform":"rotate(180deg)"})
                flag = true;
            } else {
                $("#box").css({"height":"100px"})
                $("#img").css({"transform":"rotate(0deg)"})
                flag = false
            }
        })
    })
</script>
</html>